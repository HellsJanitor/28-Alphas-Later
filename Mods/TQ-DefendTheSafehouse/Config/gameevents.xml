<Config>
	<!-- CautiousPancakeDefendPOIFromHorde -->
	<insertAfter xpath="/gameevents/action_sequence[@name='action_block_DowngradedTo']">
		<!-- TIER 1 start -->
		<action_sequence name="tier1_courier_rescue_start">
			<action class="AddBuff">
				<property name="phase" value="1"/>
				<property name="buff_name" value="buffSpawner1a"/>
			</action>
			<action class="ModifyCVar">
				<property name="phase" value="2"/>
				<property name="cvar" value="cvar_t1_courier_rescue_kill_counter"/>
				<property name="value" value="0"/>
				<property name="operation" value="Set"/>
			</action>
			<action class="ClearGroup">
				<property name="phase" value="3"/>
				<property name="group_name" value="safehouse"/>
			</action>
		</action_sequence>
		<!-- first group of zombies.  This sequence is called by buff self update every 5 seconds until the buff is removed -->
		<action_sequence name="tier1_courier_rescue_mainLoop">
			<!-- refund_inactivity is the magic property that will stop gameevent after 40-50 seconds - set to false to make it run forever -->
			<property name="refund_inactivity" value="false"/>
			<action class="AddBuff">
				<property name="phase" value="1"/>
				<property name="removes_buff" value="buffSpawner1a" param1="removebuff"/>
			</action>
			<action class="AddBuff">
				<property name="phase" value="2"/>
				<property name="buff_name" value="buffSpawner1b"/>
			</action>
			<action class="SpawnEntity">
				<property name="phase" value="3"/>
				<property name="entity_group" value="SleeperGSList"/>
				<property name="spawn_count" value="4"/>
				<property name="air_spawn" value="true"/>
				<property name="add_to_group" value="safehouse"/>
				<property name="safe_spawn" value="true"/>
				<property name="attack_target" value="true"/>
			</action>
			<action class="PlaySound">
				<property name="sound" value="zombiemalealert" param1="alertsound"/>
				<property name="phase" value="4"/>
			</action>
			<action class="Delay">
				<property name="phase" value="5"/>
				<property name="time" value="5"/>
			</action>
			<loop class="While">
				<property name="phase" value="6"/>
				<requirement class="HasBuff">
					<property name="buff_name" value="buffSpawner1b"/>
				</requirement>
				<!-- remove buff if player has killed 15 -->
				<decision class="If">
					<requirement class="CVar">
						<property name="operation" value="GTE"/>
						<property name="cvar" value="cvar_t1_courier_rescue_kill_counter"/>
						<property name="value" value="15"/>
					</requirement>
					<action class="AddBuff">
						<property name="phase" value="1"/>
						<property name="removes_buff" value="buffSpawner1b" param1="removebuff"/>
					</action>
				</decision>
				<!-- spawn more if less than 3 alive -->
				<decision class="If">
					<requirement class="GroupLiveCount">
						<property name="target_group" value="safehouse"/>
						<property name="operation" value="LessThan"/>
						<property name="count" value="3"/>
					</requirement>
					<action class="SpawnEntity">
						<property name="phase" value="1"/>
						<property name="entity_group" value="SleeperGSList"/>
						<property name="spawn_count" value="1"/>
						<property name="air_spawn" value="true"/>
						<property name="add_to_group" value="safehouse"/>
						<property name="safe_spawn" value="true"/>
						<property name="attack_target" value="true"/>
					</action>
					<action class="PlaySound">
						<property name="sound" value="zombiemalealert" param1="alertsound"/>
						<property name="phase" value="2"/>
					</action>
					<action class="Delay">
						<property name="phase" value="3"/>
						<property name="time" value="3"/>
					</action>
					<action class="RageZombies">
						<property name="phase" value="4"/>
						<property name="time" value="10"/>
						<property name="speed_percent" value="10.0"/>
						<property name="target_group" value="safehouse"/>
					</action>
				</decision>
			</loop>
		</action_sequence>
		<action_sequence name="tier1_courier_rescue_stop">
			<action class="AddBuff">
				<property name="removes_buff" value="buffSpawner1a" param1="removebuff"/>
			</action>
			<action class="AddBuff">
				<property name="removes_buff" value="buffSpawner1b" param1="removebuff"/>
			</action>
		</action_sequence>
		<action_sequence name="tier1_courier_rescue_failedQuestCheck">
			<decision class="If">
				<requirement class="OnQuest">
					<property name="quest" value="tier1_courier_rescue"/>
					<property name="invert" value="true"/>
				</requirement>
				<action class="AddBuff">
					<property name="removes_buff" value="buffSpawner1b" param1="removebuff"/>
				</action>
			</decision>
		</action_sequence>
		
		<!-- TIER 2 start -->
		<action_sequence name="tier2_courier_rescue_start">
			<action class="AddBuff">
				<property name="phase" value="1"/>
				<property name="buff_name" value="buffSpawner2a"/>
			</action>
			<action class="ModifyCVar">
				<property name="phase" value="2"/>
				<property name="cvar" value="cvar_t2_courier_rescue_kill_counter"/>
				<property name="value" value="0"/>
			</action>
			<action class="ClearGroup">
				<property name="phase" value="3"/>
				<property name="group_name" value="safehouse"/>
			</action>
		</action_sequence>
		<!-- first group of zombies.  This sequence is called by buff self update every 5 seconds until the buff is removed -->
		<action_sequence name="tier2_courier_rescue_mainLoop">
			<!-- refund_inactivity is the magic property that will stop gameevent after 40-50 seconds - set to false to make it run forever -->
			<property name="refund_inactivity" value="false"/>
			<action class="AddBuff">
				<property name="phase" value="1"/>
				<property name="removes_buff" value="buffSpawner2a" param1="removebuff"/>
			</action>
			<action class="AddBuff">
				<property name="phase" value="2"/>
				<property name="buff_name" value="buffSpawner2b"/>
			</action>
			<action class="SpawnEntity">
				<property name="phase" value="3"/>
				<property name="entity_group" value="SleeperGSList"/>
				<property name="spawn_count" value="9"/>
				<property name="air_spawn" value="true"/>
				<property name="add_to_group" value="safehouse"/>
				<property name="safe_spawn" value="true"/>
				<property name="attack_target" value="true"/>
			</action>
			<action class="PlaySound">
				<property name="sound" value="zombiemalealert" param1="alertsound"/>
				<property name="phase" value="4"/>
			</action>
			<action class="Delay">
				<property name="phase" value="5"/>
				<property name="time" value="5"/>
			</action>
			<loop class="While">
				<property name="phase" value="6"/>
				<requirement class="HasBuff">
					<property name="buff_name" value="buffSpawner2b"/>
				</requirement>
				<!-- remove buff if player has killed 30 -->
				<decision class="If">
					<requirement class="CVar">
						<property name="operation" value="GTE"/>
						<property name="cvar" value="cvar_t2_courier_rescue_kill_counter"/>
						<property name="value" value="30"/>
					</requirement>
					<action class="AddBuff">
						<property name="phase" value="1"/>
						<property name="removes_buff" value="buffSpawner2b" param1="removebuff"/>
					</action>
				</decision>
				<!-- spawn more if less than 5 alive -->
				<decision class="If">
					<requirement class="GroupLiveCount">
						<property name="target_group" value="safehouse"/>
						<property name="operation" value="LessThan"/>
						<property name="count" value="5"/>
					</requirement>
					<action class="SpawnEntity">
						<property name="phase" value="1"/>
						<property name="entity_group" value="SleeperGSList"/>
						<property name="spawn_count" value="1"/>
						<property name="air_spawn" value="true"/>
						<property name="add_to_group" value="safehouse"/>
						<property name="safe_spawn" value="true"/>
						<property name="attack_target" value="true"/>
					</action>
					<action class="PlaySound">
						<property name="sound" value="zombiemalealert" param1="alertsound"/>
						<property name="phase" value="2"/>
					</action>
					<action class="Delay">
						<property name="phase" value="3"/>
						<property name="time" value="3"/>
					</action>
					<action class="RageZombies">
						<property name="phase" value="4"/>
						<property name="time" value="10"/>
						<property name="speed_percent" value="10.0"/>
						<property name="target_group" value="safehouse"/>
					</action>
				</decision>
			</loop>
		</action_sequence>
		<action_sequence name="tier2_courier_rescue_stop">
			<action class="AddBuff">
				<property name="removes_buff" value="buffSpawner2a" param1="removebuff"/>
			</action>
			<action class="AddBuff">
				<property name="removes_buff" value="buffSpawner2b" param1="removebuff"/>
			</action>
		</action_sequence>
		<action_sequence name="tier2_courier_rescue_failedQuestCheck">
			<decision class="If">
				<requirement class="OnQuest">
					<property name="quest" value="tier2_courier_rescue"/>
					<property name="invert" value="true"/>
				</requirement>
				<action class="AddBuff">
					<property name="removes_buff" value="buffSpawner2b" param1="removebuff"/>
				</action>
			</decision>
		</action_sequence>
		
		<!-- TIER 3 start -->
		<action_sequence name="tier3_courier_rescue_start">
			<action class="AddBuff">
				<property name="phase" value="1"/>
				<property name="buff_name" value="buffSpawner3a"/>
			</action>
			<action class="ModifyCVar">
				<property name="phase" value="2"/>
				<property name="cvar" value="cvar_t3_courier_rescue_kill_counter"/>
				<property name="value" value="0"/>
			</action>
			<action class="ClearGroup">
				<property name="phase" value="3"/>
				<property name="group_name" value="safehouse"/>
			</action>
		</action_sequence>
		<!-- first group of zombies.  This sequence is called by buff self update every 5 seconds until the buff is removed -->
		<action_sequence name="tier3_courier_rescue_mainLoop">
			<!-- refund_inactivity is the magic property that will stop gameevent after 40-50 seconds - set to false to make it run forever -->
			<property name="refund_inactivity" value="false"/>
			<action class="AddBuff">
				<property name="phase" value="1"/>
				<property name="removes_buff" value="buffSpawner3a" param1="removebuff"/>
			</action>
			<action class="AddBuff">
				<property name="phase" value="2"/>
				<property name="buff_name" value="buffSpawner3b"/>
			</action>
			<action class="SpawnEntity">
				<property name="phase" value="3"/>
				<property name="entity_group" value="SleeperGSList"/>
				<property name="spawn_count" value="14"/>
				<property name="air_spawn" value="true"/>
				<property name="add_to_group" value="safehouse"/>
				<property name="safe_spawn" value="true"/>
				<property name="attack_target" value="true"/>
			</action>
			<action class="PlaySound">
				<property name="sound" value="zombiemalealert" param1="alertsound"/>
				<property name="phase" value="4"/>
			</action>
			<action class="Delay">
				<property name="phase" value="5"/>
				<property name="time" value="5"/>
			</action>
			<loop class="While">
				<property name="phase" value="6"/>
				<requirement class="HasBuff">
					<property name="buff_name" value="buffSpawner3b"/>
				</requirement>
				<!-- remove buff if player has killed 45 -->
				<decision class="If">
					<requirement class="CVar">
						<property name="operation" value="GTE"/>
						<property name="cvar" value="cvar_t3_courier_rescue_kill_counter"/>
						<property name="value" value="45"/>
					</requirement>
					<action class="AddBuff">
						<property name="phase" value="1"/>
						<property name="removes_buff" value="buffSpawner3b" param1="removebuff"/>
					</action>
				</decision>
				<!-- spawn more if less than 10 alive -->
				<decision class="If">
					<requirement class="GroupLiveCount">
						<property name="target_group" value="safehouse"/>
						<property name="operation" value="LessThan"/>
						<property name="count" value="10"/>
					</requirement>
					<action class="SpawnEntity">
						<property name="phase" value="1"/>
						<property name="entity_group" value="SleeperGSList"/>
						<property name="spawn_count" value="1"/>
						<property name="air_spawn" value="true"/>
						<property name="add_to_group" value="safehouse"/>
						<property name="safe_spawn" value="true"/>
						<property name="attack_target" value="true"/>
					</action>
					<action class="PlaySound">
						<property name="sound" value="zombiemalealert" param1="alertsound"/>
						<property name="phase" value="2"/>
					</action>
					<action class="Delay">
						<property name="phase" value="3"/>
						<property name="time" value="3"/>
					</action>
					<action class="RageZombies">
						<property name="phase" value="4"/>
						<property name="time" value="10"/>
						<property name="speed_percent" value="10.0"/>
						<property name="target_group" value="safehouse"/>
					</action>
				</decision>
			</loop>
		</action_sequence>
		<action_sequence name="tier3_courier_rescue_stop">
			<action class="AddBuff">
				<property name="removes_buff" value="buffSpawner3a" param1="removebuff"/>
			</action>
			<action class="AddBuff">
				<property name="removes_buff" value="buffSpawner3b" param1="removebuff"/>
			</action>
		</action_sequence>
		<action_sequence name="tier3_courier_rescue_failedQuestCheck">
			<decision class="If">
				<requirement class="OnQuest">
					<property name="quest" value="tier3_courier_rescue"/>
					<property name="invert" value="true"/>
				</requirement>
				<action class="AddBuff">
					<property name="removes_buff" value="buffSpawner3b" param1="removebuff"/>
				</action>
			</decision>
		</action_sequence>
		
		<!-- TIER 4 start -->
		<action_sequence name="tier4_courier_rescue_start">
			<action class="AddBuff">
				<property name="phase" value="1"/>
				<property name="buff_name" value="buffSpawner4a"/>
			</action>
			<action class="ModifyCVar">
				<property name="phase" value="2"/>
				<property name="cvar" value="cvar_t4_courier_rescue_kill_counter"/>
				<property name="value" value="0"/>
			</action>
			<action class="ClearGroup">
				<property name="phase" value="3"/>
				<property name="group_name" value="safehouse"/>
			</action>
		</action_sequence>
		<!-- first group of zombies.  This sequence is called by buff self update every 5 seconds until the buff is removed -->
		<action_sequence name="tier4_courier_rescue_mainLoop">
			<!-- refund_inactivity is the magic property that will stop gameevent after 40-50 seconds - set to false to make it run forever -->
			<property name="refund_inactivity" value="false"/>
			<action class="AddBuff">
				<property name="phase" value="1"/>
				<property name="removes_buff" value="buffSpawner4a" param1="removebuff"/>
			</action>
			<action class="AddBuff">
				<property name="phase" value="2"/>
				<property name="buff_name" value="buffSpawner4b"/>
			</action>
			<action class="SpawnEntity">
				<property name="phase" value="3"/>
				<property name="entity_group" value="SleeperGSList"/>
				<property name="spawn_count" value="20"/>
				<property name="air_spawn" value="true"/>
				<property name="add_to_group" value="safehouse"/>
				<property name="safe_spawn" value="true"/>
				<property name="attack_target" value="true"/>
			</action>
			<action class="PlaySound">
				<property name="sound" value="zombiemalealert" param1="alertsound"/>
				<property name="phase" value="4"/>
			</action>
			<action class="Delay">
				<property name="phase" value="5"/>
				<property name="time" value="5"/>
			</action>
			<loop class="While">
				<property name="phase" value="6"/>
				<requirement class="HasBuff">
					<property name="buff_name" value="buffSpawner4b"/>
				</requirement>
				<!-- remove buff if player has killed 60 -->
				<decision class="If">
					<requirement class="CVar">
						<property name="operation" value="GTE"/>
						<property name="cvar" value="cvar_t4_courier_rescue_kill_counter"/>
						<property name="value" value="60"/>
					</requirement>
					<action class="AddBuff">
						<property name="phase" value="1"/>
						<property name="removes_buff" value="buffSpawner4b" param1="removebuff"/>
					</action>
				</decision>
				<!-- spawn more if less than 15 alive -->
				<decision class="If">
					<requirement class="GroupLiveCount">
						<property name="target_group" value="safehouse"/>
						<property name="operation" value="LessThan"/>
						<property name="count" value="15"/>
					</requirement>
					<action class="SpawnEntity">
						<property name="phase" value="1"/>
						<property name="entity_group" value="SleeperGSList"/>
						<property name="spawn_count" value="1"/>
						<property name="air_spawn" value="true"/>
						<property name="add_to_group" value="safehouse"/>
						<property name="safe_spawn" value="true"/>
						<property name="attack_target" value="true"/>
					</action>
					<action class="PlaySound">
						<property name="sound" value="zombiemalealert" param1="alertsound"/>
						<property name="phase" value="2"/>
					</action>
					<action class="Delay">
						<property name="phase" value="3"/>
						<property name="time" value="3"/>
					</action>
					<action class="RageZombies">
						<property name="phase" value="4"/>
						<property name="time" value="10"/>
						<property name="speed_percent" value="10.0"/>
						<property name="target_group" value="safehouse"/>
					</action>
				</decision>
			</loop>
		</action_sequence>
		<action_sequence name="tier4_courier_rescue_stop">
			<action class="AddBuff">
				<property name="removes_buff" value="buffSpawner4a" param1="removebuff"/>
			</action>
			<action class="AddBuff">
				<property name="removes_buff" value="buffSpawner4b" param1="removebuff"/>
			</action>
		</action_sequence>
		<action_sequence name="tier4_courier_rescue_failedQuestCheck">
			<decision class="If">
				<requirement class="OnQuest">
					<property name="quest" value="tier4_courier_rescue"/>
					<property name="invert" value="true"/>
				</requirement>
				<action class="AddBuff">
					<property name="removes_buff" value="buffSpawner4b" param1="removebuff"/>
				</action>
			</decision>
		</action_sequence>
		
		<!-- TIER 5 start -->
		<action_sequence name="tier5_courier_rescue_start">
			<action class="AddBuff">
				<property name="phase" value="1"/>
				<property name="buff_name" value="buffSpawner5a"/>
			</action>
			<action class="ModifyCVar">
				<property name="phase" value="2"/>
				<property name="cvar" value="cvar_t5_courier_rescue_kill_counter"/>
				<property name="value" value="0"/>
			</action>
			<action class="ClearGroup">
				<property name="phase" value="3"/>
				<property name="group_name" value="safehouse"/>
			</action>
		</action_sequence>
		<!-- first group of zombies.  This sequence is called by buff self update every 5 seconds until the buff is removed -->
		<action_sequence name="tier5_courier_rescue_mainLoop">
			<!-- refund_inactivity is the magic property that will stop gameevent after 40-50 seconds - set to false to make it run forever -->
			<property name="refund_inactivity" value="false"/>
			<action class="AddBuff">
				<property name="phase" value="1"/>
				<property name="removes_buff" value="buffSpawner5a" param1="removebuff"/>
			</action>
			<action class="AddBuff">
				<property name="phase" value="2"/>
				<property name="buff_name" value="buffSpawner5b"/>
			</action>
			<action class="SpawnEntity">
				<property name="phase" value="3"/>
				<property name="entity_group" value="SleeperGSList"/>
				<property name="spawn_count" value="25"/>
				<property name="air_spawn" value="true"/>
				<property name="add_to_group" value="safehouse"/>
				<property name="safe_spawn" value="true"/>
				<property name="attack_target" value="true"/>
			</action>
			<action class="PlaySound">
				<property name="sound" value="zombiemalealert" param1="alertsound"/>
				<property name="phase" value="4"/>
			</action>
			<action class="Delay">
				<property name="phase" value="5"/>
				<property name="time" value="5"/>
			</action>
			<loop class="While">
				<property name="phase" value="6"/>
				<requirement class="HasBuff">
					<property name="buff_name" value="buffSpawner5b"/>
				</requirement>
				<!-- remove buff if player has killed 75 -->
				<decision class="If">
					<requirement class="CVar">
						<property name="operation" value="GTE"/>
						<property name="cvar" value="cvar_t5_courier_rescue_kill_counter"/>
						<property name="value" value="75"/>
					</requirement>
					<action class="AddBuff">
						<property name="phase" value="1"/>
						<property name="removes_buff" value="buffSpawner5b" param1="removebuff"/>
					</action>
				</decision>
				<!-- spawn more if less than 20 alive -->
				<decision class="If">
					<requirement class="GroupLiveCount">
						<property name="target_group" value="safehouse"/>
						<property name="operation" value="LessThan"/>
						<property name="count" value="20"/>
					</requirement>
					<action class="SpawnEntity">
						<property name="phase" value="1"/>
						<property name="entity_group" value="SleeperGSList"/>
						<property name="spawn_count" value="1"/>
						<property name="air_spawn" value="true"/>
						<property name="add_to_group" value="safehouse"/>
						<property name="safe_spawn" value="true"/>
						<property name="attack_target" value="true"/>
					</action>
					<action class="PlaySound">
						<property name="sound" value="zombiemalealert" param1="alertsound"/>
						<property name="phase" value="2"/>
					</action>
					<action class="Delay">
						<property name="phase" value="3"/>
						<property name="time" value="3"/>
					</action>
					<action class="RageZombies">
						<property name="phase" value="4"/>
						<property name="time" value="10"/>
						<property name="speed_percent" value="10.0"/>
						<property name="target_group" value="safehouse"/>
					</action>
				</decision>
			</loop>
		</action_sequence>
		<action_sequence name="tier5_courier_rescue_stop">
			<action class="AddBuff">
				<property name="removes_buff" value="buffSpawner5a" param1="removebuff"/>
			</action>
			<action class="AddBuff">
				<property name="removes_buff" value="buffSpawner5b" param1="removebuff"/>
			</action>
		</action_sequence>
		<action_sequence name="tier5_courier_rescue_failedQuestCheck">
			<decision class="If">
				<requirement class="OnQuest">
					<property name="quest" value="tier5_courier_rescue"/>
					<property name="invert" value="true"/>
				</requirement>
				<action class="AddBuff">
					<property name="removes_buff" value="buffSpawner5b" param1="removebuff"/>
				</action>
			</decision>
		</action_sequence>
	</insertAfter>
</Config>
